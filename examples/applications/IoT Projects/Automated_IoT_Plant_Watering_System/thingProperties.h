// Code generated by Arduino IoT Cloud, DO NOT EDIT.
// This file contains the automatically generated properties and callbacks for your Thing.

#include <ArduinoIoTCloud.h>
#include <Arduino_ConnectionHandler.h>

// Your WiFi credentials (SSID and password) are defined in arduino_secrets.h
// These are automatically included by ArduinoIoTCloud.h
const char SSID[]     = SECRET_SSID;
const char PASS[]     = SECRET_OPTIONAL_PASS;

// Forward declarations for your callback functions
void onManualWateringChange();
void onAutoWateringEnabledChange();
void onMoistureThresholdChange();

// Cloud variables
int soilMoisture;            // Current soil moisture reading
bool waterPumpOn;            // Indicates if the water pump is currently active
bool manualWatering;         // Trigger for manual watering
bool autoWateringEnabled;    // Enable/disable automatic watering
int moistureThreshold;       // Set the threshold for automatic watering

void initProperties(){

  // Initialize Cloud properties and link them to their respective callbacks
  ArduinoCloud.addProperty(soilMoisture, READ, ON_CHANGE, NULL);
  ArduinoCloud.addProperty(waterPumpOn, READ, ON_CHANGE, NULL);
  ArduinoCloud.addProperty(manualWatering, READWRITE, ON_CHANGE, onManualWateringChange);
  ArduinoCloud.addProperty(autoWateringEnabled, READWRITE, ON_CHANGE, onAutoWateringEnabledChange);
  ArduinoCloud.addProperty(moistureThreshold, READWRITE, ON_CHANGE, onMoistureThresholdChange);

}

// Initialize the WiFi connection handler
WiFiConnectionHandler ArduinoIoTPreferredConnection(SSID, PASS);
