// Code generated by Arduino IoT Cloud, DO NOT EDIT.
// This file contains the automatically generated properties and callbacks for your Thing.

#include <ArduinoIoTCloud.h>
#include <Arduino_ConnectionHandler.h>

// Your WiFi credentials (SSID and password) are defined in arduino_secrets.h
// These are automatically included by ArduinoIoTCloud.h
const char SSID[]     = SECRET_SSID;
const char PASS[]     = SECRET_OPTIONAL_PASS;

// Forward declarations for your callback functions
void onDispenseFoodChange();
void onAutoDispenseEnabledChange();

// Cloud variables
bool dispenseFood;          // Trigger to dispense food manually (Read & Write)
bool autoDispenseEnabled;   // Enable/disable automatic dispensing (Read & Write)
int foodLevel;              // Current food level (e.g., 0-100%) (Read-only)
bool bowlEmpty;             // Status: true if bowl is detected as empty (Read-only)
char lastDispenseTime[20];  // Timestamp of the last food dispensing (Read-only)

void initProperties(){

  // Initialize Cloud properties and link them to their respective callbacks
  ArduinoCloud.addProperty(dispenseFood, READWRITE, ON_CHANGE, onDispenseFoodChange);
  ArduinoCloud.addProperty(autoDispenseEnabled, READWRITE, ON_CHANGE, onAutoDispenseEnabledChange);
  ArduinoCloud.addProperty(foodLevel, READ, ON_CHANGE, NULL);
  ArduinoCloud.addProperty(bowlEmpty, READ, ON_CHANGE, NULL);
  ArduinoCloud.addProperty(lastDispenseTime, READ, ON_CHANGE, NULL);

}

// Initialize the WiFi connection handler
WiFiConnectionHandler ArduinoIoTPreferredConnection(SSID, PASS);
